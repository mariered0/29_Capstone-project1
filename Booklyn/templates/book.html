{% extends 'base.html' %}

{% block title %}Book Details{% endblock %}

{% block content %}

<p>
    {{result.volumeInfo.title}}
</p>

<div class="row">
    <div class="col-2">
        <img src="{{ result.volumeInfo.imageLinks['thumbnail'] }}" alt="book cover image" class="float-right mt-3"
            style="width: auto; height: 300px;">

            <div class="btn-group">
                <button class="btn btn-info btn dropdown-toggle mt-3" type="button" data-toggle="dropdown" aria-haspopup="true"
                  aria-expanded="false">
                  Add to List
                </button>
                <div class="dropdown-menu">
                  <form action="/users/{{ user.id }}/add_want_to_read" method="POST">
                    <input type="hidden" name="author" value="{{ result.volumeInfo.authors }}">
                    <input type="hidden" name="publisher" value="{{ result.volumeInfo.publisher }}">
                    <input type="hidden" name="category" value="{{ result.volumeInfo.categories }}">
        
                    <input type="hidden" name="title" value="{{ result.volumeInfo.title }}">
                    <input type="hidden" name="subtitle" value="{result
                    <input type="hidden" name="published_date" value="{{ result.volumeInfo.publishedDate }}">
                    <input type="hidden" name="thumbnail" value="{{ result.volumeInfo.imageLinks.smallThumbnail }}">
        
                    <button class="dropdown-item">Want to Read</button>
                  </form>
        
                  <form action="/users/{{ user.id }}/add_currently_reading" method="POST">
                    <input type="hidden" name="author" value="{{ result.volumeInfo.authors }}">
                    <input type="hidden" name="publisher" value="{{ result.volumeInfo.publisher }}">
                    <input type="hidden" name="category" value="{{ result.volumeInfo.categories }}">
        
                    <input type="hidden" name="title" value="{{ result.volumeInfo.title }}">
                    <input type="hidden" name="subtitle" value="{{ result.volumeInfo.subtitle }}">
                    <input type="hidden" name="published_date" value="{{ result.volumeInfo.publishedDate }}">
                    <input type="hidden" name="thumbnail" value="{{ result.volumeInfo.imageLinks.smallThumbnail }}">
        
                    <button class="dropdown-item">Currentlyreading</button>
                  </form>
        
        
        
                  <form action="/users/{{ user.id }}/add_read" method="POST">
                    <input type="hidden" name="author" value="{{ result.volumeInfo.authors }}">
                    <input type="hidden" name="publisher" value="{{ result.volumeInfo.publisher }}">
                    <input type="hidden" name="category" value="{{ result.volumeInfo.categories }}">
        
                    <input type="hidden" name="title" value="{{ result.volumeInfo.title }}">
                    <input type="hidden" name="subtitle" value="{{ result.volumeInfo.subtitle }}">
                    <input type="hidden" name="published_date" value="{{ result.volumeInfo.publishedDate }}">
                    <input type="hidden" name="thumbnail" value="{{ result.volumeInfo.imageLinks.smallThumbnail }}">
        
                    <button class="dropdown-item">Read</button>
                  </form>
                </div>
              </div>
    </div>
    <div class="col-10">
        <div>
            <h2>
                {{ result.volumeInfo.title }}
                {{ ': ' + result.volumeInfo.subtitle if result.volumeInfo.subtitle }}
            </h2>
            <hr>
        </div>
        <h6 class="card-subtitle mb-2 text-muted">
            by
            {% for author in result.volumeInfo.authors %}
            {{ author }}
            {{ "," if not loop.last else "" }}
            {% endfor %}
        </h6>
        <p>{{ desc|safe }}</p>

        <p class="card-subtitle mb-2 text-muted">
        Genre:
        {% for category in result.volumeInfo.categories %}
        {{ category }}
        {{ "," if not loop.last else "" }}
        {% endfor %}
        </p>

    </div>

</div>




{% endblock %}